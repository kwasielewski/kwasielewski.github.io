<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/highlight/styles/github.min.css"> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/poole_lanyon.css"> <link rel=stylesheet  href="/css/adjust.css"> <link rel=icon  href="/assets/favicon.png"> <title>Functional style lists in Julia</title> <input type=checkbox  class=sidebar-checkbox  id=sidebar-checkbox > <div class=sidebar  id=sidebar > <div class=sidebar-item > <p></p> </div> <nav class=sidebar-nav > <a class="sidebar-nav-item " href="/">Home</a> <a class="sidebar-nav-item " href="/blogposts">Blog</a> </nav> <div class=sidebar-item > <p>&copy; Krzysztof Wasielewski.</p> </div> </div> <!-- Wrap is the content to shift when toggling the sidebar. We wrap the content to avoid any CSS collisions with our real content. --> <div class=wrap > <div class=masthead > <div class=container > <h3 class=masthead-title > <a href="/" title=Home >Krzysztof Wasielewski</a> <small>My personal blog</small> </h3> </div> </div> <div class="container content"> <div class=franklin-content ><h3 id=functional_style_lists_in_julia ><a href="#functional_style_lists_in_julia" class=header-anchor >Functional style lists in Julia</a></h3> <p>In today&#39;s post we will look at how to implement immutable, generic yet homogenous lists in Julia.</p> <p>Let&#39;s start with creating a package for our lists. Simply open Julia REPL, press <code>&#93;</code> to enter package manager mode and type:</p> <pre><code class="julia hljs">generate Lists</code></pre>
<p>We&#39;ll be working with <code>src/Lists.jl</code> file. A module with single <code>greet</code> method is already defined there. We may delete this function, as we won&#39;t need it. From now on all the code we&#39;ll write will be inside this module.</p>
<p>Now, let&#39;s move to defining an empty list:</p>
<pre><code class="julia hljs"><span class=hljs-keyword >struct</span> Nil <span class=hljs-keyword >end</span></code></pre>
<p>In Julia <code>struct</code> is used to define new data types. By default, all fields are immutable, so we don&#39;t have to specify it explicitly. Empty list contain no values, so it has no fields. We can now create an empty list by calling its constructor:</p>
<pre><code class="julia hljs">Nil()</code></pre>
<p>It may seem too verbose to use parentheses to create an empty list, but we need a way to differentiate between a type and a value.</p>
<p>In the next step we&#39;ll specify what a List is. As one may know, a list is either an empty list or a node with value and another list. Because list may take one of two forms, we&#39;ll use <code>Union</code> type. The value inside a node may be of any type so we&#39;ll use a type parameter. We would like to have a something like this:</p>
<pre><code class="julia hljs">List{T} = <span class=hljs-built_in >Union</span>{Nil, Node{T}}</code></pre>
<p>but we don&#39;t now yet what <code>Node</code> is. So let&#39;s define it:</p>
<pre><code class="julia hljs"><span class=hljs-keyword >struct</span> Node{T}
    value::T
    next::<span class=hljs-built_in >Union</span>{Nil, Node{T}}
<span class=hljs-keyword >end</span></code></pre>
<p>Now that we have a definition of <code>Node</code> we can finally define <code>List</code>.</p>
<p>With all the definitions in place we can create a list:</p>
<pre><code class="julia hljs">Node(<span class=hljs-number >1</span>, Node(<span class=hljs-number >2</span>, Nil()))</code></pre>
<p>The output for this expression is:</p>
<pre><code class="julia hljs">Node{<span class=hljs-built_in >Int64</span>}(<span class=hljs-number >1</span>, Node{<span class=hljs-built_in >Int64</span>}(<span class=hljs-number >2</span>, Nil()))</code></pre>
<p>If we try to create a list with values of different types, we&#39;ll get an error:</p>
<pre><code class="julia hljs">julia&gt; Node(<span class=hljs-number >1</span>, Node(<span class=hljs-number >2.0</span>, Nil()))
ERROR: <span class=hljs-built_in >MethodError</span>: no method matching Node(::<span class=hljs-built_in >Int64</span>, ::Node{<span class=hljs-built_in >Float64</span>})</code></pre>
<div class=page-foot >
    <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> Krzysztof Wasielewski. Last modified: August 05, 2023.
    Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>.
</div>
</div>
      </div>  
    </div> 
    
    
        <script src="/libs/highlight/highlight.min.js"></script>
<script>hljs.highlightAll();hljs.configure({tabReplace: '    '});</script>

    
    <label for=sidebar-checkbox  class=sidebar-toggle ></label>